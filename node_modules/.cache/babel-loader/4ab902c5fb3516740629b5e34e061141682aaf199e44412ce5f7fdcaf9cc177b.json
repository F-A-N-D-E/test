{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from'react-router-dom';import PageCardTest from\"./PageCardTest\";import PersCSS from'../styles/Personal.module.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function MainPagePers(){let[data,setData]=useState([]);// [{nameTest: 'Test', id: 'yl4hZ7', length: 1}]\nlet[switchParam,setSwitchParam]=useState('pub');let params=useParams();async function getDataFromDB(){await fetch(`/personal/${params.name}`).then(r=>r.json()).then(r=>{setData(r.data);setSwitchParam(JSON.parse(localStorage.getItem('pubPriv')));}).catch(err=>console.log(err));}useEffect(()=>{getDataFromDB();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:PersCSS.head,children:[/*#__PURE__*/_jsx(\"button\",{className:`${PersCSS.switchBtn} ${switchParam==='pub'?PersCSS.active:undefined}`,onClick:()=>setSwitchAndStorage('pub'),children:\"\\u041F\\u0443\\u0431\\u043B\\u0438\\u0447\\u043D\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"button\",{className:`${PersCSS.switchBtn} ${switchParam==='priv'?PersCSS.active:undefined}`,onClick:()=>setSwitchAndStorage('priv'),children:\"\\u041F\\u0440\\u0438\\u0432\\u0430\\u0442\\u043D\\u044B\\u0435\"})]}),/*#__PURE__*/_jsx(\"div\",{children:data&&data.map((elem,index)=>{if(switchParam==='pub'&&!elem.privat){return/*#__PURE__*/_jsx(PageCardTest,{name:elem.nameTest,length:elem.length,idTest:elem.id,switchParam:switchParam,setSwitchParam:setSwitchParam},index);}else if(switchParam==='priv'&&elem.privat){return/*#__PURE__*/_jsx(PageCardTest,{name:elem.nameTest,length:elem.length,idTest:elem.id,switchParam:switchParam,setSwitchParam:setSwitchParam},index);}return'';})})]});function setSwitchAndStorage(){let str=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';setSwitchParam(str);localStorage.setItem('pubPriv',JSON.stringify(str));}}","map":{"version":3,"names":["React","useEffect","useState","useParams","PageCardTest","PersCSS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainPagePers","data","setData","switchParam","setSwitchParam","params","getDataFromDB","fetch","name","then","r","json","JSON","parse","localStorage","getItem","catch","err","console","log","children","className","head","switchBtn","active","undefined","onClick","setSwitchAndStorage","map","elem","index","privat","nameTest","length","idTest","id","str","arguments","setItem","stringify"],"sources":["D:/javascript/express-react-app/client/src/personal/MainPagePers.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport PageCardTest from \"./PageCardTest\";\r\nimport PersCSS from '../styles/Personal.module.css'\r\n\r\nexport default function MainPagePers() {\r\n    let [data, setData] = useState([]) // [{nameTest: 'Test', id: 'yl4hZ7', length: 1}]\r\n    let [switchParam, setSwitchParam] = useState('pub')\r\n\r\n    let params = useParams()\r\n\r\n\r\n    async function getDataFromDB() {\r\n        await fetch(`/personal/${params.name}`)\r\n            .then(r => r.json())\r\n            .then(r => {\r\n                setData(r.data)\r\n                setSwitchParam(JSON.parse(localStorage.getItem('pubPriv')))\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getDataFromDB()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    return <>\r\n        <div className={PersCSS.head}>\r\n            <button className={`${PersCSS.switchBtn} ${switchParam === 'pub' ? PersCSS.active : undefined}`} onClick={() => setSwitchAndStorage('pub')}>Публичные</button>\r\n            <button className={`${PersCSS.switchBtn} ${switchParam === 'priv' ? PersCSS.active : undefined}`} onClick={() => setSwitchAndStorage('priv')}>Приватные</button>\r\n        </div>\r\n\r\n        <div>\r\n            {data &&\r\n                data.map((elem, index) => {\r\n                    if (switchParam === 'pub' && !elem.privat) {\r\n                        return <PageCardTest\r\n                            key={index}\r\n                            name={elem.nameTest}\r\n                            length={elem.length}\r\n                            idTest={elem.id}\r\n\r\n                            switchParam={switchParam}\r\n                            setSwitchParam={setSwitchParam}\r\n                        />\r\n                    } else if (switchParam === 'priv' && elem.privat) {\r\n                        return <PageCardTest\r\n                            key={index}\r\n                            name={elem.nameTest}\r\n                            length={elem.length}\r\n                            idTest={elem.id}\r\n\r\n                            switchParam={switchParam}\r\n                            setSwitchParam={setSwitchParam}\r\n                        />\r\n                    }\r\n                    return ''\r\n                })\r\n            }\r\n        </div>\r\n    </>\r\n\r\n\r\n    function setSwitchAndStorage(str = '') {\r\n        setSwitchParam(str)\r\n        localStorage.setItem('pubPriv', JSON.stringify(str))\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}