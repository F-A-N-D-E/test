{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import ResolCSS from'../styles/Resolution.module.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ResolutionCheck(){let[data,setData]=useState();let param=useParams();async function getData(){let dataFromDB=await fetch(`/resolution/${param.id}/check`).then(r=>r.json()).then(r=>r);let copy={...dataFromDB};setData(copy);}useEffect(()=>{getData();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:data?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{className:ResolCSS.resH3,children:data.name})}),render().map((elem,index,arr)=>{if(index===0){return/*#__PURE__*/_jsx(\"div\",{className:ResolCSS.res+' '+ResolCSS.topBorder,children:elem},index);}else if(index+1===arr.length){return/*#__PURE__*/_jsx(\"div\",{className:ResolCSS.sum,children:elem},index);}else{return/*#__PURE__*/_jsx(\"div\",{className:ResolCSS.res,children:elem},index);}})]}):/*#__PURE__*/_jsx(\"div\",{children:\"load\"})});function render(){let arr=[];let countTrueAnswer=0;let userAnswer=data.data.data,tureAnswer=data.data.tureAnswer;for(let keyUserAnswer in userAnswer){let res;let valueFuncSpan=setSpan(userAnswer[keyUserAnswer],tureAnswer[keyUserAnswer]);res=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:ResolCSS.resP,children:[arr.length+1,\". \",keyUserAnswer]}),/*#__PURE__*/_jsxs(\"div\",{className:ResolCSS.variant,children:[\"\\u041E\\u0442\\u0432\\u0435\\u0442 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F: \",typeof userAnswer[keyUserAnswer]==='object'?userAnswer[keyUserAnswer].join(', '):userAnswer[keyUserAnswer],\" \",valueFuncSpan[0],\" \",setDivTrueAns(valueFuncSpan[1],tureAnswer[keyUserAnswer])]})]});arr.push(res);}arr.push(countTrueAnswer+' из '+data.length);return arr;function setSpan(user,check){let arr=[];let includeUserAns=check.includes(user);if(typeof check==='object'&&typeof user==='string'&&includeUserAns){++countTrueAnswer;arr=[/*#__PURE__*/_jsx(\"span\",{className:ResolCSS.comments+' '+ResolCSS.true,children:'// верно'}),true];// eslint-disable-next-line eqeqeq\n}else if(check==user){++countTrueAnswer;arr=[/*#__PURE__*/_jsx(\"span\",{className:ResolCSS.comments+' '+ResolCSS.true,children:'// верно'}),true];}else if(typeof check==='object'&&typeof user==='object'){let num=0;for(let elem of check){if(user.includes(elem))num+=1;}if(num===check.length){++countTrueAnswer;arr=[/*#__PURE__*/_jsx(\"span\",{className:ResolCSS.comments+' '+ResolCSS.true,children:'// верно'}),true];}else{arr=[/*#__PURE__*/_jsx(\"span\",{className:ResolCSS.comments+' '+ResolCSS.false,children:'// неверно'}),false];}}else{arr=[/*#__PURE__*/_jsx(\"span\",{className:ResolCSS.comments+' '+ResolCSS.false,children:'// неверно'}),false];}return arr;}function setDivTrueAns(spanBool,check){if(spanBool===false){return typeof check==='string'?/*#__PURE__*/_jsxs(\"div\",{className:ResolCSS.comments,children:[\"\\u0412\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442: \",check]}):/*#__PURE__*/_jsxs(\"div\",{className:ResolCSS.comments,children:[\"\\u0412\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442: \",check.join(', ')]});}}}}","map":{"version":3,"names":["React","useEffect","useState","useParams","ResolCSS","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ResolutionCheck","data","setData","param","getData","dataFromDB","fetch","id","then","r","json","copy","children","className","resH3","name","render","map","elem","index","arr","res","topBorder","length","sum","countTrueAnswer","userAnswer","tureAnswer","keyUserAnswer","valueFuncSpan","setSpan","resP","variant","join","setDivTrueAns","push","user","check","includeUserAns","includes","comments","true","num","false","spanBool"],"sources":["D:/javascript/express-react-app/client/src/resolution/ResolutionCheck.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport ResolCSS from '../styles/Resolution.module.css'\r\n\r\nexport default function ResolutionCheck() {\r\n    let [data, setData] = useState()\r\n    let param = useParams()\r\n\r\n    async function getData() {\r\n        let dataFromDB = await fetch(`/resolution/${param.id}/check`).then(r => r.json()).then(r => r)\r\n        let copy = { ...dataFromDB }\r\n\r\n        setData(copy)\r\n    }\r\n\r\n    useEffect(() => {\r\n        getData()\r\n    }, [])\r\n\r\n    return <>\r\n        {data ? <>\r\n\r\n            <div><h3 className={ResolCSS.resH3}>{data.name}</h3></div>\r\n\r\n            {render().map((elem, index, arr) => {\r\n                if (index === 0) {\r\n                    return <div key={index} className={ResolCSS.res + ' ' + ResolCSS.topBorder}>\r\n                        {elem}\r\n                    </div>\r\n                } else if (index + 1 === arr.length) {\r\n                    return <div key={index} className={ResolCSS.sum}>\r\n                        {elem}\r\n                    </div>\r\n                } else {\r\n                    return <div key={index} className={ResolCSS.res}>\r\n                        {elem}\r\n                    </div>\r\n                }\r\n            })}\r\n\r\n        </>\r\n            :\r\n            <div>load</div>\r\n        }\r\n    </>\r\n\r\n\r\n\r\n    function render() {\r\n        let arr = []\r\n        let countTrueAnswer = 0\r\n\r\n        let userAnswer = data.data.data,\r\n            tureAnswer = data.data.tureAnswer;\r\n\r\n        for (let keyUserAnswer in userAnswer) {\r\n            let res\r\n            let valueFuncSpan = setSpan(userAnswer[keyUserAnswer], tureAnswer[keyUserAnswer])\r\n\r\n\r\n            res = <><p className={ResolCSS.resP}>{arr.length + 1}. {keyUserAnswer}</p>\r\n                <div className={ResolCSS.variant}>Ответ пользователя: {typeof userAnswer[keyUserAnswer] === 'object' ?\r\n                    userAnswer[keyUserAnswer].join(', ') : userAnswer[keyUserAnswer]\r\n                } {valueFuncSpan[0]} {setDivTrueAns(valueFuncSpan[1], tureAnswer[keyUserAnswer])}\r\n\r\n                </div></>\r\n\r\n\r\n\r\n            arr.push(res)\r\n        }\r\n\r\n        arr.push(countTrueAnswer + ' из ' + data.length)\r\n        return arr\r\n\r\n\r\n        function setSpan(user, check) {\r\n            let arr = []\r\n            let includeUserAns = check.includes(user)\r\n\r\n            if (typeof check === 'object' && typeof user === 'string' && includeUserAns) {\r\n                ++countTrueAnswer\r\n                arr = [<span className={ResolCSS.comments + ' ' + ResolCSS.true}>{'// верно'}</span>, true]\r\n                // eslint-disable-next-line eqeqeq\r\n            } else if (check == user) {\r\n                ++countTrueAnswer\r\n                arr = [<span className={ResolCSS.comments + ' ' + ResolCSS.true}>{'// верно'}</span>, true]\r\n            } else if (typeof check === 'object' && typeof user === 'object') {\r\n\r\n                let num = 0\r\n                for (let elem of check) {\r\n                    if (user.includes(elem)) num += 1\r\n                }\r\n                if (num === check.length) {\r\n                    ++countTrueAnswer\r\n                    arr = [<span className={ResolCSS.comments + ' ' + ResolCSS.true}>{'// верно'}</span>, true]\r\n                } else {\r\n                    arr = [<span className={ResolCSS.comments + ' ' + ResolCSS.false}>{'// неверно'}</span>, false]\r\n                }\r\n\r\n            } else {\r\n                arr = [<span className={ResolCSS.comments + ' ' + ResolCSS.false}>{'// неверно'}</span>, false]\r\n            }\r\n\r\n            return arr\r\n        }\r\n\r\n\r\n        function setDivTrueAns(spanBool, check) {\r\n            if (spanBool === false) {\r\n\r\n                return typeof check === 'string' ?\r\n                    <div className={ResolCSS.comments}>Верный ответ: {check}</div>\r\n                    :\r\n                    <div className={ResolCSS.comments}>Верный ответ: {check.join(', ')}</div>\r\n            }\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}